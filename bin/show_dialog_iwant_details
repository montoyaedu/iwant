#!/bin/bash
artifactId=""
groupId=""
version="1.0.0"
versionQualifier="-SNAPSHOT"
 
# open fd
exec 3>&1
 
# Store data to $VALUES variable
VALUES=$(dialog --ok-label "Ok" \
    --backtitle "iWant Project Generator" \
    --title "Artifact Details" \
    --form "Enter artifact details..." \
    15 50 0 \
    "ArtifactId:"           1 1 "$artifactId"         1 10 10 0 \
    "GroupId:"              2 1 "$groupId"            2 10 15 0 \
    "Version:"              3 1 "$version"            3 10 8  0 \
    "VersionQualifier:"     4 1 "$versionQualifier"   4 10 40 0 \
    2>&1 1>&3)
 
# close fd
exec 3>&-
 
# display values just entered
#readarray -t y <<<"$VALUES"
IFS=$'\n' read -rd '' -a y <<<"$VALUES"
artifactId=${y[0]}
groupId=${y[1]}
version=${y[2]}
versionQualifier=${y[3]}
echo array length=${#y[@]} 
if (( ${#y[@]} != 4 )); then
    echo "invalid array length. should be 4."
    exit 1
fi
echo artifactId="$artifactId"
echo groupId="$groupId"
echo version="$version"
echo versionQualifier="$versionQualifier"
